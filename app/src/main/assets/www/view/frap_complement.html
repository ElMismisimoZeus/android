<!DOCTYPE html>
<html>
<head>
    <!-- Include meta tag to ensure proper rendering and touch zooming -->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1" >


    <!-- Include jQuery Mobile stylesheets -->
    <!-- Include the jQuery library -->
    <!-- Include the jQuery Mobile library -->

    <link rel="stylesheet" type="text/css" href="dialogos/jquery-ui.css">
    <link rel="stylesheet" type="text/css" href="dialogos/jquery-ui.theme.css">


    <link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.css">
    <link rel="stylesheet" type="text/css" href="css/style_forms.css">
    <link rel="stylesheet" type="text/css" href="css/jquery.mobile.structure-1.4.5.css">
    <link rel="stylesheet" type="text/css" href="css/style.css">

    <script src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
    <script type="text/javascript" src="js/jquery.mobile-1.4.5.js"></script>

    <script type="text/javascript" src="../js/jquery.blockUI.js"></script>

    <script src="dialogos/jquery-ui.js"></script>

    <script>
		 $(function () {

              $("#dialog1").dialog({
                autoOpen: false,
                modal: true,
                dialogClass: "dlg-no-close",
                open: function() {
                        $('.ui-widget-overlay').addClass('custom-overlay');
                    }
              });

        });
	</script>

    <style>

		.ui-dialog-titlebar {
		  display: none;
		}


		.ui-dialog .ui-dialog-content {
			border: 0 none;
		}

		.ui-widget-overlay.custom-overlay
		{
			background-color: black;
			background-image: none;
			opacity: 0.7;
			z-index: 1040;
		}


		.dlg-no-close {
			text-align: center;
			background-color:white;
			border: 0 none;
		}

		.dlg-no-close .ui-dialog-titlebar-close {
			display: none;
		}

	</style>

</head>
<body>

<div style="background-color:rgba(0, 0, 0, 0.0); display: none; height: 390px; padding-bottom: -5px;"  id="dialog1" >

    <div style="color: white; background-color:gray;  border-bottom: 1px solid; border-bottom-color: gray; height: 30px; padding-bottom: -5px;">
        <p style="text-align: center; color: white;">Elije los datos del FRAP</p>
    </div>

    <div style="background-color:WhiteSmoke; border-bottom: 1px solid; border-bottom-color: gray;">
        <div  style="width: 110px; margin: 0 auto;">
            <img onclick="frap_primarios();" src="iconos/GRISES/Iconos_grises-g.png" width=110 >
        </div>
        <p style="text-align: center;">Datos Obligatorios</p>
    </div>

    <div style="background-color:WhiteSmoke; border-bottom: 1px solid; border-bottom-color: gray;">
        <div  style="width: 110px; margin: 0 auto;">
            <img onclick="frap_secundarios();" src="iconos/GRISES/Iconos_grises-27.png" width=110 >
        </div>
        <p style="text-align: center;">Datos Complementarios</p>
    </div>


</div>

<!--
<div style="background-color:rgba(0, 0, 0, 0.0); display: none; height: 370px; padding-top: -5px;"  id="dialog1" >

    <div style="color: white; background-color:gray;  border-bottom: 1px solid; border-bottom-color: gray; height: 50px; padding-bottom: -5px; padding-top: -5px;">
        <p style="text-align: center; color: white;">Elije los datos del FRAP</p>
    </div>

    <div style="background-color:WhiteSmoke; border-bottom: 1px solid; border-bottom-color: gray;">
        <div  style="width: 110px; margin: 0 auto;">
            <img onclick="frap_primarios();" src="iconos/GRISES/Iconos_grises-g.png" width=110 >
        </div>
        <p style="text-align: center;">Datos Obligatorios</p>
    </div>

    <div style="background-color:WhiteSmoke; border-bottom: 1px solid; border-bottom-color: gray;">
        <div  style="width: 110px; margin: 0 auto;">
            <img onclick="frap_secundarios();" src="iconos/GRISES/Iconos_grises-27.png" width=110 >
        </div>
        <p style="text-align: center;">Datos Complementarios</p>
    </div>


</div>
-->

<div style="background-color: black;">
    <!-- <img src="images/icons-menu/Atras_Principal.png" style="width: 5%; padding-top: 10px;"/> -->
    <img onclick="menu_datos();" src="images/icons-menu/Menu_Principal.png" style="width: 5%; padding-top: 10px; padding-left: 10px;"/>
    <img onclick="homeVehicules();" src="images/icons-menu/home1.png" style="width: 5%; float: right; padding-top: 10px; padding-right: 10px; "/>
</div>
<div class="cabecera" style="">

    <div class="element-head" style="background: #E67F22; " id="menu-insumos-basicos" data-state="q1" onclick="delta('click', 'insumos_basicos', 'menu-insumos-basicos', $(this).attr('data-state'))">
        <div class="menu-icon">
            <img src="images/icons-menu/Insumos1.png"/>
        </div>
        <span style="color: white;">Insumos BÃ¡sicos</span>
    </div>
    <div class="element-head" style="background: #C1392B; " id="menu-insumos-intermedios" data-state="q1" onclick="delta('click', 'insumos_intermedios', 'menu-insumos-intermedios',  $(this).attr('data-state'))">
        <div class="menu-icon">
            <img src="images/icons-menu/Insumos_Intermedios1.png"/>
        </div>
        <span style="color: white;">Insumos intermedios</span>
    </div>
    <div class="element-head" style="background: #8F44AD;" id="menu-insumos-avanzados" data-state="q1" onclick="delta('click', 'insumos_avanzados', 'menu-insumos-avanzados',  $(this).attr('data-state'))">
        <div class="menu-icon">
            <img src="images/icons-menu/Insumos_Avanzados1.png"/>
        </div>
        <span style="color: white;">Insumos Avanzados</span>
    </div>
    <div class="element-head" style="background: #2D3E50;" id="menu-medicamentos" data-state="q1" onclick="delta('click', 'medicamentos', 'menu-medicamentos',  $(this).attr('data-state'))">
        <div class="menu-icon">
            <img src="images/icons-menu/Medicamentos1.png"/>
        </div>
        <span style="color: white;">Medicamentos</span>
    </div>
    <div class="element-head" style="background: #BEC3C7; height:" id="menu-signos" data-state="q1" onclick="delta('click', 'signos', 'menu-signos',  $(this).attr('data-state'))">
        <div class="menu-icon">
            <img src="images/icons-menu/Signos1.png"/>
        </div>
        <span style="color: white;">Signos</span>
    </div>

</div>
<div class="cuerpo" id="content-menu">
    <iframe src=""  frameborder="0" seamless="" id="frameDemo"></iframe>
</div>
</body>

<script>

function frap_primarios(){
    $.unblockUI();
    location="frap.html";

}
function frap_secundarios(){
    $.unblockUI();
    location="frap_complement.html";

}

function menu_datos(){
/*
    $.blockUI({
        message: $('#dialog1')
    });
    */

    $("#dialog1").dialog('open');

}

function homeVehicules(){
    location="home_vehicules.html";
}


    /*$('#frameDemo').load(function(){

        var iframe = $('#frameDemo').contents();

        iframe.find("#boton2").click(function(){

            $( "#menu-element-3" ).toggle( "slide" );
            $( "#menu-element-1" ).toggle( "slide", function() {

                $("#menu-element-3").css('display','block');
                $("#menu-element-1").css('display','block');
            });

        });
});*/

    $( document ).ready(function() {
        var alto = $(window).height();
        var elementMenu = alto/5;
        $('.cabecera').height(elementMenu);
        $('.element-head').height(elementMenu);
        $('.cuerpo').height(alto - elementMenu);
        $('#frameDemo').height(alto - elementMenu);
        $('#frameDemo').css('width','100%');

    });

    $('#frameDemo').load(function(){

        var iframe = $('#frameDemo').contents();

        iframe.find("#boton1").click(function()
        {
            delta('slide', 'insumos_basicos', 'menu-insumos-basicos', iframe.find("#boton1").attr('data-state'))
        });

        iframe.find("#boton2").click(function()
        {
            delta('slide', 'insumos_intermedios', 'menu-insumos-intermedios', iframe.find("#boton2").attr('data-state'))
        });
        iframe.find("#boton3").click(function()
        {
            delta('slide', 'insumos_avanzados', 'menu-insumos-avanzados', iframe.find("#boton3").attr('data-state'))
        });
    });


    var menuArray = ["menu-insumos-basicos", "menu-insumos-intermedios", "menu-insumos-avanzados", "menu-medicamentos", "menu-signos"];
    var hashNavigation = {insumos_basicos:"insumos_intermedios", insumos_intermedios:"insumos_avanzados", insumos_avanzados: "medicamentos", medicamentos: "signos"};
    var hashMenu = {'menu-insumos-basicos':"menu-insumos-intermedios", 'menu-insumos-intermedios': "menu-insumos-avanzados", 'menu-insumos-avanzados': "menu-medicamentos",'menu-medicamentos': "menu-signos" };


    function delta( handle, idPage, idMenu, state ) {
        //console.log(state);
        switch( state + '-' + handle ) {
            case 'q1-click':
                $("#"+idMenu).attr('data-state','q2');
                var i = 1;
                menuArray.forEach(function(item, index) {
                    if (item != idMenu) {
                        //console.log(i+" "+item);
                        if (i == menuArray.length) {
                            $("#"+item).slideUp("slow", function() {
                                var iframe = $("#frameDemo").contents();
                                $('#frameDemo').attr('src', "frap_complement_content.html?currentId="+idPage);
                                $('#content-menu').slideDown();
                            });
                        } else {
                            $("#"+item).slideUp("slow");
                        }
                    } else if(item == "menu-medicamentos") {
                            $('#content-menu').slideDown();
                    }
                    i++;
                    //console.log(i);
                });
            break;

            case 'q3-click':
            case 'q2-click':
                $('#frameDemo').attr('src', "");
                $("#"+idMenu).attr('data-state','q1');
                $("#content-menu").slideUp("slow", function() {
                    menuArray.forEach(function(item, index) {
                        if (item != idMenu) {
                            $( "#"+item ).slideDown("slow");
                        }
                    });
                });
            break;

            case 'q2-slide':
                var nextPage = hashNavigation[idPage];
                var nextMenu = hashMenu[idMenu];
                var iframe = $('#frameDemo').contents();
                menuArray.forEach( function(item, index) {
                    $("#"+item).attr('data-state','q3');
                });
                console.log(nextPage+" "+nextMenu);
                console.log(idMenu+" "+nextMenu);

                var pageActual = iframe.find("#"+idPage);
                console.log(pageActual.find("[id*=boton]"));

                //$("#"+nextMenu).css('display','none');
                //$("#"+idMenu).css('display','none');

                $("#"+nextMenu).css('display','block');
                $("#"+idMenu ).toggle( "slide", function() {
                    //$("#"+idMenu).css('display','block');

                });
                //$( "#" +nextMenu ).toggle( "slide" );

            break;

            case 'q3-slide':
                var iframe = $('#frameDemo').contents();

                frame.find("#"+nextPage).click( function() {

                });
            break;

        }
    }

</script>

</html>